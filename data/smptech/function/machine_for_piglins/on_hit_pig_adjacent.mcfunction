effect give @e[limit=3,sort=nearest,distance=..5,predicate=smptech:machine_for_piglins/is_pig_adjacent,nbt={HurtTime:10s}] minecraft:glowing 5 1 true
effect give @e[limit=3,sort=nearest,distance=..5,predicate=smptech:machine_for_piglins/is_pig_adjacent,nbt={HurtTime:10s}] minecraft:instant_damage
advancement revoke @s only smptech:machine_for_piglins/hit_pig_adjacent